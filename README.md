# <img src="https://github.com/hhumbertoAv/FLOC/assets/6061953/39adf1cb-08eb-4d51-a1fe-5fd26966350e" width="40"/> EcoFloc: Energy Measuring System Tool for *~~Linux~~* Windows

## Acknowledgments

<p align="center">
  <img src="https://github.com/hhumbertoAv/FLOC/assets/6061953/fcd7f192-e585-49f0-b766-137e5224ff72" width="45%"/>
</p>

<p align="center">
  <img src="https://www.iutbayonne.univ-pau.fr/sites/default/files/logos/logo%20iut%202018%20h.jpg" width="45%"/>
</p>

## Description

The original **EcoFloc** is a comprehensive and versatile tool developed by the R&D laboratory of Technopôle Domolandes[^1], supported by Université de Pau et des Pays de l'Adour and Université de Toulouse.

**EcoFloc4Win** is a port of this tool made to work for Windows operating systems developed by a team of developers at the IUT de Bayonne et du Pays-Basque[^2]. It was made to be as simple to install and use as possible while keeping the spirit of the original **EcoFloc**.

**EcoFloc4Win** measures the energy consumption of applications in Windows environments across several hardware components. In this beta release, it enables energy measurement for the **CPU**, **GPU**, **storage devices (SD)**, and **network interface controllers (NIC)**. The tool measures energy at predefined intervals, allowing users to create detailed energy profiles based on hardware components and behavioral patterns over time.

### Power calculation

**EcoFloc4Win** calculates the energy consumption for each hardware component based on the load generated by running processes, identified by their **PID**. 

### Limitations

It is important to note that, like any software tool measuring hardware energy consumption, EcoFloc4Win's results are approximations and should not be considered absolutely precise.

As of the beta release **EcoFloc4Win** is unable to obtain the power consumption for the **RAM** due to the way Windows interacts with memory management while running programs.

Because of hardware constraints, we haven't had the opportunity to test AMD GPUs, so **only NVidia graphics cards are currently supported**.

## Technical Specifications

In this beta version of EcoFloc4Win, the CPU, SD, and NIC hardware components are managed by individual JSON files that specify their specifications. These configuration files can be manually edited or modified using the EcoFlocConfigurator.exe tool.

To use our software you **MUST** have administrator rights.


### General System Requirements

**EcoFloc4Win** requires Windows 10 or above for the base applications.
The Web-UI requires node and npm.
EcoflocConfigurator.exe requires .NET desktop runtime applications version 8.0.10.

---

## Installation Guide

Follow these steps to install **EcoFloc4Win**:

1. **Download the installer**: 
   - Go to the latest release from [GitHub](...).
2. **Install prerequisites**:
   - Ensure you have Node.js and npm installed for the Web-UI. Download them from [Node.js](https://nodejs.org/).
   - Install the .NET Desktop Runtime (version 8.0.10). Download it from [Microsoft .NET](https://dotnet.microsoft.com/).
3. **Run the installer**:
   - Execute `EcoFloc4Win-Installer.exe` and follow the on-screen instructions.

---

## Configuration Guide

Customize **EcoFloc4Win** settings to match your hardware specifications:

1. **Using EcoflocConfigurator.exe**:
   - Launch `EcoflocConfigurator.exe`.
   - Select the component you wish to configure (CPU, SD, or NIC).
   - Enter the required specifications (e.g., data sheet of your components) and save your changes.

2. **Manually editing JSON files**:
   - Navigate to the `config/` directory.
   - Open the JSON file corresponding to the component you want to configure (e.g., `cpu.json`).
   - Update the specifications based on your hardware datasheets. For example:
     ```json
     {
       "tdp" : 64, 
       "clockSpeed" : 2900, 
       "voltage" : 1 
     }
     ```
     
---

## Usage Guide

Once installed, follow these steps to use **EcoFloc4Win**:

1. **Start the application**:
   - Open a command prompt as administrator, navigate to the installation directory, and run `.\EcoFloc4Win.exe`.
2. **Measure energy consumption**:
   <br>List of commands you can use in the application :
   - add [ -p | -n ] [ pid ] [ CPU | GPU | NIC | SD ]:
   ```
   add -p 0 NIC
   ```
   - remove [ -p | -n ] [ pid ]:
   ```
   remove -p 0
   ```
   - enable [ -p | -n ] [ pid ]:
   ```
   enable -p 0
   ```
   - disable [ -p | -n ] [ pid ] [ CPU | GPU | NIC | SD ]:
   ```
   disable -p 0 NIC
   ```
   - interval [ ms ]:
   ```
   interval 2000
   ```
   - ecoflocUI:
   ```
   ecoflocUI
   ```
4. **Web-UI** (optional):
   - Launch the Web-UI with the executable `.\vite-server.exe`
---



## References
[^1]: [Technopôle Domolandes](https://www.domolandes.fr)
[^2]: [IUT de Bayonne et du Pays Basque](https://www.iutbayonne.univ-pau.fr)
